hotkey-overlay {
	skip-at-startup
}
input {
	keyboard {
		track-layout "global"
		repeat-delay 500
		repeat-rate 40
		xkb {
			options "caps:escape_shifted_capslock"
		}
	}
	touchpad {
		tap
		// dwt
		natural-scroll
		accel-speed 0.5
		accel-profile "adaptive"
		scroll-factor 1.2
		scroll-method "two-finger"
		tap-button-map "left-right-middle"
		click-method "clickfinger"
		// disabled-on-external-mouse
		// middle-emulation
	}
	mouse {
		natural-scroll
		accel-speed 0.5
		accel-profile "adaptive"
		scroll-factor 1.0
		scroll-method "no-scroll"
	}
}

output "DSI-1" {
    // Uncomment this line to disable this output.
    // off

    // Resolution and, optionally, refresh rate of the output.
    // The format is "<width>x<height>" or "<width>x<height>@<refresh rate>".
    // If the refresh rate is omitted, niri will pick the highest refresh rate
    // for the resolution.
    // If the mode is omitted altogether or is invalid, niri will pick one automatically.
    // Run `niri msg outputs` while inside a niri instance to list all outputs and their modes.
    // mode "1920x1080@120.030"

    // You can use integer or fractional scale, for example use 1.5 for 150% scale.
    scale 1

    // Transform allows to rotate the output counter-clockwise, valid values are:
    // normal, 90, 180, 270, flipped, flipped-90, flipped-180 and flipped-270.
    transform "{{ display_rotate_video }}"

    // Position of the output in the global coordinate space.
    // This affects directional monitor actions like "focus-monitor-left", and cursor movement.
    // The cursor can only move between directly adjacent outputs.
    // Output scale and rotation has to be taken into account for positioning:
    // outputs are sized in logical, or scaled, pixels.
    // For example, a 3840×2160 output with scale 2.0 will have a logical size of 1920×1080,
    // so to put another output directly adjacent to it on the right, set its x to 1920.
    // If the position is unset or results in an overlap, the output is instead placed
    // automatically.
    position x=0 y=0
}

environment {
    GTK_USE_PORTAL "0"
    GDK_DEBUG "no-portals"
}

animations {
  window-open {
    duration-ms 250
    curve "ease-out-expo"
  }

  window-close {
    duration-ms 250
    curve "ease-out-quad"
  }
}

binds {
}

layout {
  background-color "{{ color_scheme_data.background }}"
}

spawn-at-startup "sh" "-c" "/usr/bin/kotami-greeter; niri msg action quit --skip-confirmation"
